<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <title>VADUM - Catálogos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="./assets/css/estilos.css">
  </head>
  <body>
    <div class="contenedor-app d-flex">
      <!-- Sidebar -->
      <nav class="sidebar p-3 d-none d-md-flex flex-column bg-dark" id="sidebarMenu">
        <div class="header-logo text-center mb-4">
          <img src="./assets/img/VADUM-blanco.png" alt="Logotipo VADUM" class="sidebar-logo">
        </div>
        <div class="d-flex flex-column nav-links-sidebar">
          <a class="menu-link" id="nav-inicio" href="./index.html" data-roles="admin,supervisor,vigilante,cliente">
            <i class="material-icons-outlined">home</i> <span>Inicio</span>
          </a>
          <a class="menu-link" id="nav-empleados" href="./empleados.html" data-roles="admin,supervisor">
            <i class="material-icons-outlined">badge</i> <span>Empleados</span>
          </a>
          <a class="menu-link" id="nav-fisica" href="./captura_fisica.html" data-roles="admin,supervisor">
            <i class="material-icons-outlined">insights</i> <span>Física</span>
          </a>
          <a class="menu-link" id="nav-mensual" href="./evaluacion_mensual.html" data-roles="admin,supervisor">
            <i class="material-icons-outlined">rule</i> <span>Evaluación</span>
          </a>
          <a class="menu-link" id="nav-encuesta" href="./encuesta.html" data-roles="admin,supervisor,cliente">
            <i class="material-icons-outlined">question_answer</i> <span>Encuesta</span>
          </a>
          <a class="menu-link" id="nav-cursos" href="./cursos.html" data-roles="admin,supervisor">
            <i class="material-icons-outlined">school</i> <span>Cursos</span>
          </a>
          <a class="menu-link" id="nav-incentivo" href="./incentivo.html" data-roles="admin,supervisor,vigilante">
            <i class="material-icons-outlined">payments</i> <span>Incentivo</span>
          </a>
          <a class="menu-link activo" id="nav-catalogos" href="./catalogos.html" data-roles="admin,supervisor">
            <i class="material-icons-outlined">settings</i> <span>Catálogos</span>
          </a>
        </div>
      </nav>

      <!-- Main -->
      <div class="main-content-wrapper flex-grow-1 d-flex flex-column">
        <!-- Topbar -->
        <div class="top-navbar sticky-top d-flex justify-content-between align-items-center p-2 bg-white border-bottom shadow-sm">
          <div class="d-flex align-items-center">
            <button class="btn btn-outline-secondary d-md-none me-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuOffcanvas" aria-controls="menuOffcanvas">
              <i class="fas fa-bars"></i>
            </button>
            <span class="fw-bold fs-5 text-dark">Catálogos</span>
          </div>
          <div class="d-flex align-items-center">
            <div class="dropdown me-2">
              <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fas fa-user-circle me-1"></i> <span id="nombreUsuario">Usuario</span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton1">
                <li><a class="dropdown-item" href="#">Mi Perfil</a></li>
                <li><a class="dropdown-item" href="#">Configuración</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item text-danger" href="#" id="btnCerrarSesionDropdown">Cerrar Sesión</a></li>
              </ul>
            </div>
            <button class="btn btn-sm btn-danger ms-2" id="btnCerrarSesionDropdown"><i class="fas fa-sign-out-alt"></i></button>
          </div>
        </div>

        <!-- Content -->
        <main class="flex-grow-1 p-3 p-md-4">
          <div class="card p-3 p-md-4 shadow-sm">
            <ul class="nav nav-tabs" id="tabsCatalogos" role="tablist">
              <li class="nav-item" role="presentation"><button class="nav-link active" id="tab-puestos" data-bs-toggle="tab" data-bs-target="#pane-puestos" type="button" role="tab">Puestos</button></li>
              <li class="nav-item" role="presentation"><button class="nav-link" id="tab-regiones" data-bs-toggle="tab" data-bs-target="#pane-regiones" type="button" role="tab">Regiones</button></li>
              <li class="nav-item" role="presentation"><button class="nav-link" id="tab-puntos" data-bs-toggle="tab" data-bs-target="#pane-puntos" type="button" role="tab">Puntos</button></li>
              <li class="nav-item" role="presentation"><button class="nav-link" id="tab-fisica" data-bs-toggle="tab" data-bs-target="#pane-fisica" type="button" role="tab">Evaluación Física</button></li>
              <li class="nav-item" role="presentation"><button class="nav-link" id="tab-usuarios" data-bs-toggle="tab" data-bs-target="#pane-usuarios" type="button" role="tab">Usuarios</button></li>
            </ul>

            <div class="tab-content mt-3" id="contenidoCatalogos">
              <!-- Puestos -->
              <div class="tab-pane fade show active" id="pane-puestos" role="tabpanel">
                <div class="d-flex flex-column flex-md-row gap-2 justify-content-between mb-3">
                  <div class="d-flex gap-2">
                    <input id="buscarPuesto" type="search" class="form-control" placeholder="Buscar puesto...">
                  </div>
                  <button class="btn btn-success" id="btnNuevoPuesto"><i class="fas fa-plus-circle me-1"></i>Nuevo Puesto</button>
                </div>
                <div class="table-responsive">
                  <table class="table table-striped align-middle mb-0" id="tablaPuestos">
                    <thead>
                      <tr>
                        <th>Puesto</th>
                        <th style="width:120px">Estado</th>
                        <th style="width:140px">Acciones</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>

              <!-- Regiones -->
              <div class="tab-pane fade" id="pane-regiones" role="tabpanel">
                <div class="d-flex flex-column flex-md-row gap-2 justify-content-between mb-3">
                  <input id="buscarRegion" type="search" class="form-control" placeholder="Buscar Región...">
                  <button class="btn btn-success" id="btnNuevaRegion"><i class="fas fa-plus-circle me-1"></i>Nueva Región</button>
                </div>
                <div class="table-responsive">
                  <table class="table table-striped align-middle mb-0" id="tablaRegiones">
                    <thead>
                      <tr>
                        <th>Región</th>
                        <th style="width:140px">Acciones</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>

              <!-- Puntos -->
              <div class="tab-pane fade" id="pane-puntos" role="tabpanel">
                <div class="row g-2 mb-3">
                  <div class="col-md-4"><input id="buscarPunto" type="search" class="form-control" placeholder="Buscar punto..."></div>
                  <div class="col-md-4"><select id="filtroRegionPunto" class="form-select"></select></div>
                  <div class="col-md-4 text-md-end"><button class="btn btn-success" id="btnNuevoPunto"><i class="fas fa-plus-circle me-1"></i>Nuevo Punto</button></div>
                </div>
                <div class="table-responsive">
                  <table class="table table-striped align-middle mb-0" id="tablaPuntos">
                    <thead>
                      <tr>
                        <th>Punto</th>
                        <th>Región</th>
                        <th style="width:140px">Acciones</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>

              <!-- Evaluación Física: listado de ejercicios (modal con Plantilla 0â€“10 via JS) -->
              <div class="tab-pane fade" id="pane-fisica" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h6 class="m-0">Ejercicios</h6>
                  <button class="btn btn-sm btn-success" id="btnNuevoEjercicio"><i class="fas fa-plus me-1"></i>Nuevo</button>
                </div>
                <div class="table-responsive">
                  <table class="table table-sm table-striped align-middle" id="tablaEjercicios">
                    <thead>
                      <tr>
                        <th>Clave</th>
                        <th>Nombre</th>
                        <th>Unidad</th>
                        <th>Mejor es mayor</th>
                        <th>Estado</th>
                        <th style="width:150px">Acciones</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>

              <!-- Usuarios -->
              <div class="tab-pane fade" id="pane-usuarios" role="tabpanel">
                <div class="d-flex flex-column flex-md-row gap-2 justify-content-between mb-3">
                  <input id="buscarUsuario" type="search" class="form-control" placeholder="Buscar usuario o empleado...">
                  <button class="btn btn-success" id="btnNuevoUsuario"><i class="fas fa-user-plus me-1"></i>Nuevo Usuario</button>
                </div>
                <div class="table-responsive">
                  <table class="table table-striped align-middle mb-0" id="tablaUsuarios">
                    <thead>
                      <tr>
                        <th>Usuario</th>
                        <th>Empleado</th>
                        <th>Rol</th>
                        <th>Estado</th>
                        <th style="width:180px">Acciones</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Offcanvas mÃ³vil -->
    <div class="offcanvas offcanvas-start bg-dark text-white" tabindex="-1" id="menuOffcanvas" aria-labelledby="menuOffcanvasLabel">
      <div class="offcanvas-header bg-warning">
        <div class="header-logo">
          <img src="./assets/img/VADUM-negro.png" alt="Logotipo VADUM" class="sidebar-logo">
          <h5 class="offcanvas-title text-dark fw-bold" id="menuOffcanvasLabel">Menú VADUM</h5>
        </div>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body p-0">
        <div class="d-flex flex-column p-3">
          <a class="menu-link" href="./index.html" data-roles="admin,supervisor,vigilante,cliente"><i class="fas fa-home"></i> <span>Inicio</span></a>
          <a class="menu-link" href="./empleados.html" data-roles="admin,supervisor"><i class="fas fa-user-tie"></i> <span>Empleados</span></a>
          <a class="menu-link" href="./captura_fisica.html" data-roles="admin,supervisor"><i class="fas fa-chart-line"></i> <span>Física</span></a>
          <a class="menu-link" href="./evaluacion_mensual.html" data-roles="admin,supervisor"><i class="fas fa-users-cog"></i> <span>Evaluación</span></a>
          <a class="menu-link" href="./encuesta.html" data-roles="admin,supervisor,cliente"><i class="fas fa-handshake"></i> <span>Encuesta</span></a>
          <a class="menu-link activo" href="./catalogos.html" data-roles="admin,supervisor"><i class="fas fa-cogs"></i> <span>Catálogos</span></a>
        </div>
      </div>
    </div>

    <!-- Modals bÃ¡sicos (Puesto, Región, Punto, Usuario). El modal de Ejercicio lo genera JS. -->
    <div class="modal fade" id="modalPuesto" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog"><div class="modal-content">
        <div class="modal-header"><h5 class="modal-title" id="tituloModalPuesto">Nuevo Puesto</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button></div>
        <div class="modal-body"><input type="hidden" id="puestoId"><div class="mb-3"><label class="form-label" for="puestoNombre">Nombre del puesto</label><input type="text" class="form-control" id="puestoNombre" placeholder="Ej. Guardia de Seguridad"></div></div>
        <div class="modal-footer"><button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button class="btn btn-primary" id="btnGuardarPuesto">Guardar</button></div>
      </div></div>
    </div>

    <div class="modal fade" id="modalRegion" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog"><div class="modal-content">
        <div class="modal-header"><h5 class="modal-title" id="tituloModalRegion">Nueva Región</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button></div>
        <div class="modal-body"><input type="hidden" id="regionId"><div class="mb-3"><label class="form-label" for="regionNombre">Nombre de la Región</label><input type="text" class="form-control" id="regionNombre" placeholder="Ej. QuerÃ©taro"></div></div>
        <div class="modal-footer"><button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button class="btn btn-primary" id="btnGuardarRegion">Guardar</button></div>
      </div></div>
    </div>

    <div class="modal fade" id="modalPunto" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog"><div class="modal-content">
        <div class="modal-header"><h5 class="modal-title" id="tituloModalPunto">Nuevo Punto</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button></div>
        <div class="modal-body"><input type="hidden" id="puntoId"><div class="mb-3"><label class="form-label" for="puntoNombre">Nombre del punto</label><input type="text" class="form-control" id="puntoNombre" placeholder="Ej. Torre Centro"></div><div class="mb-3"><label class="form-label" for="puntoRegion">Región</label><select class="form-select" id="puntoRegion"></select></div></div>
        <div class="modal-footer"><button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button class="btn btn-primary" id="btnGuardarPunto">Guardar</button></div>
      </div></div>
    </div>

    <div class="modal fade" id="modalUsuario" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog"><div class="modal-content">
        <div class="modal-header"><h5 class="modal-title" id="tituloModalUsuario">Nuevo Usuario</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button></div>
        <div class="modal-body"><input type="hidden" id="usuarioId"><div class="mb-3"><label class="form-label" for="usuarioNombre">Usuario</label><input type="text" class="form-control" id="usuarioNombre" placeholder="Ej. j.perez"></div><div class="mb-3"><label class="form-label" for="usuarioPass">ContraseÃ±a</label><input type="password" class="form-control" id="usuarioPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"></div><div class="mb-3"><label class="form-label" for="usuarioRol">Rol</label><select class="form-select" id="usuarioRol"><option value="vigilante">Vigilante</option><option value="supervisor">Supervisor</option><option value="admin">Admin</option><option value="cliente">Cliente</option></select></div><div class="mb-3"><label class="form-label" for="usuarioNoEmp">No. Empleado (opcional)</label><input type="text" class="form-control" id="usuarioNoEmp" placeholder="Ej. 1234"></div></div>
        <div class="modal-footer"><button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button class="btn btn-primary" id="btnGuardarUsuario">Guardar</button></div>
      </div></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./assets/js/ui.js"></script>
    <script src="./assets/js/paginador_tablas.js"></script>
    <script src="./assets/js/auth.js"></script>
    <script src="./assets/js/catalogos.js"></script>
  </body>
  </html>





